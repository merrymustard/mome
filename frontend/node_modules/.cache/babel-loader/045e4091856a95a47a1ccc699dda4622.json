{"ast":null,"code":"import _objectSpread from \"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/src/context.js\";\nimport React, { Component, createContext } from \"react\";\nimport MY_SERVICE from \"./services/index\";\nimport Swal from \"sweetalert2\";\nexport const MyContext = createContext();\n\nclass MyProvider extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      loggedUser: false,\n      formSignup: {\n        name: \"\",\n        lastname: \"\",\n        country: \"\",\n        gender: \"\",\n        password: \"\",\n        email: \"\"\n      },\n      loading: false,\n      newCartProduct: {\n        quantity: 0,\n        size: \"\"\n      },\n      createdOrder: {},\n      loginForm: {\n        email: \"\",\n        password: \"\"\n      },\n      stockInputs: [0],\n      user: {},\n      newProduct: {\n        name: \"\",\n        brand: \"\",\n        caption: \"\",\n        price: 0,\n        color: [],\n        size: [],\n        quantity: [],\n        details: \"\",\n        images: [],\n        category: \"\",\n        subcategory: \"\"\n      },\n      file: {},\n      productFeed: [],\n      checked: false,\n      productDetail: {\n        images: []\n      },\n      open: false,\n      Cart: [],\n      carousel: 0,\n      wishListProds: [],\n      totalValueCart: 0,\n      quantity: 0,\n      manProducts: [],\n      womanProducts: [],\n      prodId: \"\"\n    };\n\n    this.handleRadio = e => {\n      const genderValue = e.target.innerText;\n\n      if (genderValue === \"Mujer\") {\n        this.setState({\n          formSignup: _objectSpread({}, this.state.formSignup, {\n            gender: \"Mujer\"\n          })\n        });\n      } else {\n        this.setState({\n          formSignup: _objectSpread({}, this.state.formSignup, {\n            gender: \"Hombre\"\n          })\n        });\n      }\n    };\n\n    this.handleInput = (e, obj) => {\n      const a = this.state[obj];\n      const key = e.target.name;\n      a[key] = e.target.value;\n      this.setState({\n        obj: a\n      });\n    };\n\n    this.handleSize = async e => {\n      console.log(e.target.value, \"hey\");\n      await this.setState({\n        newCartProduct: _objectSpread({}, this.state.newCartProduct, {\n          size: e.target.value\n        })\n      });\n    };\n\n    this.handleSignup = async e => {\n      e.preventDefault();\n\n      const _ref = await MY_SERVICE.signup(this.state.formSignup),\n            data = _ref.data;\n\n      Swal.fire(`Welcome ${data.user.name}`, \"User created\", \"success\");\n    };\n\n    this.handleStockInput = e => {\n      const a = e.target.name;\n      const list = this.state.newProduct.a;\n      list.push(e.target.value);\n      const addStock = {};\n      addStock[a] = list;\n      this.setState({\n        newProduct: addStock\n      });\n    };\n\n    this.handleProductQty = a => {\n      let x = this.state.newCartProduct.quantity;\n\n      if (a) {\n        x++;\n        this.setState({\n          newCartProduct: _objectSpread({}, this.state.newCartProduct, {\n            quantity: x\n          })\n        });\n      }\n\n      if (!a) {\n        x--;\n        this.setState({\n          newCartProduct: _objectSpread({}, this.state.newCartProduct, {\n            quantity: x\n          })\n        });\n      }\n    };\n\n    this.handleProductQtyOrder = (e, a) => {\n      let x = this.state.Cart[e].quantity;\n      const carrito = this.state.Cart;\n\n      if (a) {\n        x++;\n        carrito[e].quantity = x;\n        this.setState({\n          Cart: carrito\n        });\n      }\n\n      if (!a) {\n        x--;\n        carrito[e].quantity = x;\n        this.setState({\n          Cart: carrito\n        });\n      }\n    };\n\n    this.addProduct = async e => {\n      e.preventDefault();\n      const newProduct = this.state.newProduct;\n      const formData = new FormData();\n\n      for (const key in newProduct) {\n        formData.append(key, newProduct[key]);\n      }\n\n      for (const llave of Object.keys(newProduct.images)) {\n        formData.append(\"images\", newProduct.images[llave]);\n      }\n\n      const _ref2 = await MY_SERVICE.addproduct(formData),\n            data = _ref2.data;\n\n      console.log(data); // Swal.fire(`Success`, `New Product Created ${data.product.name}`, \"success\")\n    };\n\n    this.handleUpload = async e => {\n      const files = e.target.files;\n      this.setState(prevState => _objectSpread({}, prevState, {\n        newProduct: _objectSpread({}, prevState.newProduct, {\n          images: files\n        })\n      })); // await this.setState({ file: e.target.files[0] })\n      // console.log(this.state.file)\n      // const formData = new FormData()\n      // formData.append(\"photo\", this.state.file)\n      // const data = await MY_SERVICE.upload(formData)\n      // console.log(\"image uploaded\", data)\n    };\n\n    this.addStockForm = e => {\n      e.preventDefault();\n      this.setState(prevState => {\n        return _objectSpread({}, prevState, {\n          stockInputs: [...prevState.stockInputs, prevState.stockInputs.length + 1]\n        });\n      });\n    };\n\n    this.handleLogin = (e, cb) => {\n      e.preventDefault();\n      MY_SERVICE.login(this.state.loginForm).then(({\n        data\n      }) => {\n        this.setState({\n          loggedUser: true,\n          user: data.user\n        });\n        cb();\n      }).catch(err => {\n        Swal.fire(`Quien sabe que paso`, \"☠️\", \"error\");\n      });\n    };\n\n    this.handleLogout = async cb => {\n      await MY_SERVICE.logout();\n      window.localStorage.clear();\n      this.setState({\n        loggedUser: false,\n        user: {}\n      });\n      this.props.history.push(\"/\"); // ESTO NO FUNCIONA!!!!\n    };\n\n    this.handleCheckboxChange = event => {\n      this.setState({\n        checked: event.target.checked\n      });\n    };\n\n    this.toggleMenu = e => {\n      if (this.state.open) {\n        this.setState({\n          open: false\n        });\n      } else {\n        this.setState({\n          open: true\n        });\n      }\n    };\n\n    this.deleteProduct = async e => {\n      // HAY QUE PONER EN EL ID DEL BOTÓN EL ID DEL PRODUCTO A ELIMINAR\n      //HAY QUE HACER UN COMPONENT DID CHANGE PARA REFRESCAR LA PÁGINA Y ACTUALIZARLA\n      const usr = await MY_SERVICE.deleteProduct(e.target.id);\n      this.setState({\n        wishListProds: usr.wishList\n      });\n    };\n\n    this.addProductToWishlist = async e => {\n      const usr = await MY_SERVICE.addProductToWishlist(e.target.id);\n      this.setState({\n        wishListProds: usr.wishList\n      });\n    };\n\n    this.deleteProductFromWishlist = async e => {\n      const _ref3 = await MY_SERVICE.deleteProductFromWishlist(e.target.id),\n            newlist = _ref3.newlist;\n\n      this.setState({\n        wishListProds: newlist.usr.wishList\n      });\n    };\n\n    this.getProducts = async () => {\n      this.setState({\n        loading: true\n      });\n\n      const _ref4 = await MY_SERVICE.getProducts(),\n            data = _ref4.data;\n\n      this.setState({\n        productFeed: data.products\n      });\n      this.setState({\n        loading: false\n      });\n    };\n\n    this.getManProducts = async () => {\n      this.setState({\n        loading: true\n      });\n\n      const _ref5 = await MY_SERVICE.getManProducts(),\n            data = _ref5.data;\n\n      console.log(data);\n      this.setState({\n        manProducts: data.products\n      });\n    };\n\n    this.getWomanProducts = async () => {\n      this.setState({\n        loading: true\n      });\n\n      const _ref6 = await MY_SERVICE.getWomanProducts(),\n            data = _ref6.data;\n\n      console.log(data);\n      this.setState({\n        womanProducts: data.products\n      });\n    };\n\n    this.getProductDetail = async (e, cb) => {\n      // LA CARD DEL PRODUCTO TIENE QUE TENER EL ONCLICK CON ESTA FUNCIÓN Y TIENE QUE TENER EL ID CON EL ID DEL PRODUCTO EN CUESTIÓN\n      const _ref7 = await MY_SERVICE.productDetail(e),\n            data = _ref7.data;\n\n      console.log(data.product);\n      this.setState({\n        prodId: data.product._id\n      });\n      await this.setState({\n        productDetail: data.product\n      });\n      console.log(this.state.productDetail);\n      cb();\n    };\n\n    this.addProductToCart = async () => {\n      const cart = this.state.Cart;\n\n      const _ref8 = await MY_SERVICE.productDetail(this.state.prodId),\n            data = _ref8.data;\n\n      data.product.quantity = this.state.newCartProduct.quantity;\n      data.product.size = this.state.newCartProduct.size;\n      cart.push(data.product);\n      this.setState({\n        Cart: cart\n      });\n\n      const reducer = (accumulator, currentValue) => accumulator + currentValue;\n\n      const productsArray = this.state.Cart.map(e => ({\n        prod: {\n          product: e.id,\n          quantity: e.quantity\n        }\n      }));\n      const totalValue = productsArray.map(e => e.quantity * e.price).reduce(reducer);\n      this.setState({\n        totalValueCart: totalValue\n      });\n      this.nextStep();\n    };\n\n    this.nextStep = () => {\n      setTimeOut(this.toggleMenu(), 3000);\n    };\n\n    this.submitOrder = async () => {\n      // const reducer = (accumulator, currentValue) => accumulator + currentValue\n      // const productsArray = this.state.Cart.map(e => ({\n      //   prod: { product: e.id, quantity: e.quantity }\n      // }))\n      // const totalValue = productsArray\n      //   .map(e => e.quantity * e.price)\n      //   .reduce(reducer)\n      const SendCart = this.state.Cart.map((e, i) => ({\n        product: e._id,\n        quantity: e.quantity,\n        size: e.size\n      }));\n      const newOrd = {\n        products: SendCart,\n        total: this.state.totalValue\n      };\n\n      const _ref9 = await MY_SERVICE.createOrder(newOrd),\n            data = _ref9.data;\n\n      this.setState({\n        createdOrder: data.newOrder\n      });\n    };\n\n    this.nextCarousel = step => {\n      const carousel = this.state.carousel;\n\n      if (step === \"left\") {\n        if (this.state.carousel === 0) {\n          return this.setState({\n            carousel: 3\n          });\n        }\n\n        return this.setState({\n          carousel: carousel - 1\n        });\n      } else {\n        if (this.state.carousel === 3) {\n          return this.setState({\n            carousel: 0\n          });\n        }\n\n        return this.setState({\n          carousel: carousel + 1\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    if (document.cookie) {\n      console.log(\"true\");\n      MY_SERVICE.getUser().then(({\n        data\n      }) => {\n        console.log(data);\n        this.setState({\n          loggedUser: true,\n          user: data.user\n        }); // Swal.fire(`Welcome back ${data.user.name} `, \"\", \"success\")\n      }).catch(err => console.log(err));\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.prod !== prevProps.userID) {\n      this.fetchData(this.props.userID);\n    }\n  } // componentDidUpdate(prevState, prevProps) {\n  //   if (prevState.Cart.length != this.state.Cart.length){\n  //     const reducer = (accumulator, currentValue) => accumulator + currentValue;\n  //     const productsArray = this.state.Cart.map(e => ({\n  //       prod: { product: e.id, quantity: e.quantity }\n  //     }));\n  //     const totalValue = productsArray\n  //       .map(e => e.quantity * e.price)\n  //       .reduce(reducer);\n  //     this.setState({totalValueCart:totalValue})\n  //   }\n  // }\n\n\n  // individual product\n  showSettings(event) {\n    event.preventDefault();\n  }\n\n  render() {\n    return React.createElement(MyContext.Provider, {\n      value: {\n        state: this.state,\n        loggedUser: this.state.loggedUser,\n        formSignup: this.state.formSignup,\n        loginForm: this.state.loginForm,\n        handleInput: this.handleInput,\n        handleSignup: this.handleSignup,\n        handleLogin: this.handleLogin,\n        handleLogout: this.handleLogout,\n        addStockForm: this.addStockForm,\n        newProduct: this.state.newProduct,\n        addProduct: this.addProduct,\n        stockInputs: this.state.stockInputs,\n        checked: this.state.checked,\n        handleCheckboxChange: this.handleCheckboxChange,\n        switchOpen: this.switchOpen,\n        switchClose: this.switchClose,\n        toggleMenu: this.toggleMenu,\n        handleRadio: this.handleRadio,\n        deleteProduct: this.deleteProduct,\n        deleteProductFromWishlist: this.deleteProductFromWishlist,\n        addProductToWishlist: this.addProductToWishlist,\n        getProducts: this.getProducts,\n        getProductDetail: this.getProductDetail,\n        addProductToCart: this.addProductToCart,\n        submitOrder: this.submitOrder,\n        open: this.state.open,\n        newCartProduct: this.state.newCartProduct,\n        createdOrder: this.state.createdOrder,\n        productFeed: this.state.productFeed,\n        productDetail: this.state.productDetail,\n        Cart: this.state.Cart,\n        wishListProds: this.state.wishListProds,\n        handleProductQty: this.handleProductQty,\n        handleSize: this.handleSize,\n        totalValueCart: this.totalValueCart,\n        handleFile: this.handleFile,\n        handleUpload: this.handleUpload,\n        handleProductQtyOrder: this.handleProductQtyOrder,\n        quantity: this.state.quantity,\n        loading: this.state.loading,\n        manProducts: this.state.manProducts,\n        womanProducts: this.state.womanProducts,\n        getManProducts: this.getManProducts,\n        getWomanProducts: this.getWomanProducts // user: this.state.user,\n\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }, this.props.children);\n  }\n\n}\n\nexport default MyProvider;","map":{"version":3,"sources":["/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/src/context.js"],"names":["React","Component","createContext","MY_SERVICE","Swal","MyContext","MyProvider","state","loggedUser","formSignup","name","lastname","country","gender","password","email","loading","newCartProduct","quantity","size","createdOrder","loginForm","stockInputs","user","newProduct","brand","caption","price","color","details","images","category","subcategory","file","productFeed","checked","productDetail","open","Cart","carousel","wishListProds","totalValueCart","manProducts","womanProducts","prodId","handleRadio","e","genderValue","target","innerText","setState","handleInput","obj","a","key","value","handleSize","console","log","handleSignup","preventDefault","signup","data","fire","handleStockInput","list","push","addStock","handleProductQty","x","handleProductQtyOrder","carrito","addProduct","formData","FormData","append","llave","Object","keys","addproduct","handleUpload","files","prevState","addStockForm","length","handleLogin","cb","login","then","catch","err","handleLogout","logout","window","localStorage","clear","props","history","handleCheckboxChange","event","toggleMenu","deleteProduct","usr","id","wishList","addProductToWishlist","deleteProductFromWishlist","newlist","getProducts","products","getManProducts","getWomanProducts","getProductDetail","product","_id","addProductToCart","cart","reducer","accumulator","currentValue","productsArray","map","prod","totalValue","reduce","nextStep","setTimeOut","submitOrder","SendCart","i","newOrd","total","createOrder","newOrder","nextCarousel","step","componentDidMount","document","cookie","getUser","componentDidUpdate","prevProps","userID","fetchData","showSettings","render","switchOpen","switchClose","handleFile","children"],"mappings":"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","sourcesContent":["import React, { Component, createContext } from \"react\"\nimport MY_SERVICE from \"./services/index\"\nimport Swal from \"sweetalert2\"\n\nexport const MyContext = createContext()\n\nclass MyProvider extends Component {\n  state = {\n    loggedUser: false,\n    formSignup: {\n      name: \"\",\n      lastname: \"\",\n      country: \"\",\n      gender: \"\",\n      password: \"\",\n      email: \"\"\n    },\n    loading: false,\n    newCartProduct: {\n      quantity: 0,\n      size: \"\"\n    },\n    createdOrder: {},\n    loginForm: {\n      email: \"\",\n      password: \"\"\n    },\n    stockInputs: [0],\n    user: {},\n    newProduct: {\n      name: \"\",\n      brand: \"\",\n      caption: \"\",\n      price: 0,\n      color: [],\n      size: [],\n      quantity: [],\n      details: \"\",\n      images: [],\n      category: \"\",\n      subcategory: \"\"\n    },\n    file: {},\n    productFeed: [],\n    checked: false,\n    productDetail: {\n      images: []\n    },\n    open: false,\n    Cart: [],\n    carousel: 0,\n    wishListProds: [],\n    totalValueCart: 0,\n    quantity: 0,\n    manProducts: [],\n    womanProducts: [],\n    prodId: \"\"\n  }\n\n  componentDidMount() {\n    if (document.cookie) {\n      console.log(\"true\")\n      MY_SERVICE.getUser()\n        .then(({ data }) => {\n          console.log(data)\n          this.setState({\n            loggedUser: true,\n            user: data.user\n          })\n          // Swal.fire(`Welcome back ${data.user.name} `, \"\", \"success\")\n        })\n        .catch(err => console.log(err))\n    }\n  }\n  componentDidUpdate(prevProps) {\n    // Typical usage (don't forget to compare props):\n    if (this.props.prod !== prevProps.userID) {\n      this.fetchData(this.props.userID);\n    }\n  }\n  // componentDidUpdate(prevState, prevProps) {\n  //   if (prevState.Cart.length != this.state.Cart.length){\n\n  //     const reducer = (accumulator, currentValue) => accumulator + currentValue;\n  //     const productsArray = this.state.Cart.map(e => ({\n  //       prod: { product: e.id, quantity: e.quantity }\n  //     }));\n  //     const totalValue = productsArray\n  //       .map(e => e.quantity * e.price)\n  //       .reduce(reducer);\n  //     this.setState({totalValueCart:totalValue})\n  //   }\n  // }\n  handleRadio = e => {\n    const genderValue = e.target.innerText\n    if (genderValue === \"Mujer\") {\n      this.setState({\n        formSignup: { ...this.state.formSignup, gender: \"Mujer\" }\n      })\n    } else {\n      this.setState({\n        formSignup: { ...this.state.formSignup, gender: \"Hombre\" }\n      })\n    }\n  }\n\n  handleInput = (e, obj) => {\n    const a = this.state[obj]\n    const key = e.target.name\n    a[key] = e.target.value\n    this.setState({\n      obj: a\n    })\n  }\n\n  handleSize = async e => {\n    console.log(e.target.value, \"hey\")\n    await this.setState({\n      newCartProduct: { ...this.state.newCartProduct, size: e.target.value }\n    })\n  }\n\n  handleSignup = async e => {\n    e.preventDefault()\n    const { data } = await MY_SERVICE.signup(this.state.formSignup)\n    Swal.fire(`Welcome ${data.user.name}`, \"User created\", \"success\")\n  }\n\n  handleStockInput = e => {\n    const a = e.target.name\n    const list = this.state.newProduct.a\n    list.push(e.target.value)\n    const addStock = {}\n    addStock[a] = list\n    this.setState({\n      newProduct: addStock\n    })\n  }\n  handleProductQty = a => {\n    let x = this.state.newCartProduct.quantity\n    if (a) {\n      x++\n      this.setState({\n        newCartProduct: { ...this.state.newCartProduct, quantity: x }\n      })\n    }\n    if (!a) {\n      x--\n      this.setState({\n        newCartProduct: { ...this.state.newCartProduct, quantity: x }\n      })\n    }\n  }\n  handleProductQtyOrder = (e, a) => {\n    let x = this.state.Cart[e].quantity\n    const carrito = this.state.Cart\n    if (a) {\n      x++\n      carrito[e].quantity = x\n      this.setState({ Cart: carrito })\n    }\n    if (!a) {\n      x--\n      carrito[e].quantity = x\n      this.setState({ Cart: carrito })\n    }\n  }\n\n  addProduct = async e => {\n    e.preventDefault()\n    const { newProduct } = this.state\n    const formData = new FormData()\n    for (const key in newProduct) {\n      formData.append(key, newProduct[key])\n    }\n    for (const llave of Object.keys(newProduct.images)) {\n      formData.append(\"images\", newProduct.images[llave])\n    }\n    const { data } = await MY_SERVICE.addproduct(formData)\n    console.log(data)\n    // Swal.fire(`Success`, `New Product Created ${data.product.name}`, \"success\")\n  }\n\n  handleUpload = async e => {\n    const { files } = e.target\n    this.setState(prevState => ({\n      ...prevState,\n      newProduct: {\n        ...prevState.newProduct,\n        images: files\n      }\n    }))\n    // await this.setState({ file: e.target.files[0] })\n    // console.log(this.state.file)\n    // const formData = new FormData()\n    // formData.append(\"photo\", this.state.file)\n    // const data = await MY_SERVICE.upload(formData)\n    // console.log(\"image uploaded\", data)\n  }\n\n  addStockForm = e => {\n    e.preventDefault()\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        stockInputs: [\n          ...prevState.stockInputs,\n          prevState.stockInputs.length + 1\n        ]\n      }\n    })\n  }\n\n  handleLogin = (e, cb) => {\n    e.preventDefault()\n    MY_SERVICE.login(this.state.loginForm)\n      .then(({ data }) => {\n        this.setState({\n          loggedUser: true,\n          user: data.user\n        })\n        cb()\n      })\n      .catch(err => {\n        Swal.fire(`Quien sabe que paso`, \"☠️\", \"error\")\n      })\n  }\n\n  handleLogout = async cb => {\n    await MY_SERVICE.logout()\n\n    window.localStorage.clear()\n    this.setState({\n      loggedUser: false,\n      user: {}\n    })\n    this.props.history.push(\"/\") // ESTO NO FUNCIONA!!!!\n  }\n\n  handleCheckboxChange = event => {\n    this.setState({ checked: event.target.checked })\n  }\n\n  // side menu\n  toggleMenu = e => {\n    if (this.state.open) {\n      this.setState({ open: false })\n    } else {\n      this.setState({ open: true })\n    }\n  }\n\n  deleteProduct = async e => {\n    // HAY QUE PONER EN EL ID DEL BOTÓN EL ID DEL PRODUCTO A ELIMINAR\n    //HAY QUE HACER UN COMPONENT DID CHANGE PARA REFRESCAR LA PÁGINA Y ACTUALIZARLA\n    const usr = await MY_SERVICE.deleteProduct(e.target.id)\n    this.setState({ wishListProds: usr.wishList })\n  }\n\n  addProductToWishlist = async e => {\n    const usr = await MY_SERVICE.addProductToWishlist(e.target.id)\n    this.setState({ wishListProds: usr.wishList })\n  }\n  deleteProductFromWishlist = async e => {\n    const { newlist } = await MY_SERVICE.deleteProductFromWishlist(e.target.id)\n    this.setState({ wishListProds: newlist.usr.wishList })\n  }\n  getProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getProducts()\n    this.setState({ productFeed: data.products })\n    this.setState({ loading: false })\n  }\n  getManProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getManProducts()\n    console.log(data)\n    this.setState({ manProducts: data.products })\n  }\n  getWomanProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getWomanProducts()\n    console.log(data)\n    this.setState({ womanProducts: data.products })\n  }\n  getProductDetail = async (e, cb) => {\n    // LA CARD DEL PRODUCTO TIENE QUE TENER EL ONCLICK CON ESTA FUNCIÓN Y TIENE QUE TENER EL ID CON EL ID DEL PRODUCTO EN CUESTIÓN\n    const { data } = await MY_SERVICE.productDetail(e)\n    console.log(data.product)\n    this.setState({prodId:data.product._id})\n    await this.setState({ productDetail: data.product })\n    console.log(this.state.productDetail)\n    cb()\n  }\n  // ESTA BELLEZZA VA EN EL SUBMIT BUTTON DE ADD TO CART, EN LOS INPUTS DE LOS PRODUCTOS TIENE QUE IR EL HANDLEINPUT RECIBIENDO COMO SEGUNDO PARAMETRO \"newCartProduct\" PARA QUE LO AÑADA A ESE FORM\n  addProductToCart = async () => {\n    const cart = this.state.Cart\n    const { data } = await MY_SERVICE.productDetail(this.state.prodId)\n    data.product.quantity = this.state.newCartProduct.quantity\n    data.product.size = this.state.newCartProduct.size\n    cart.push(data.product)\n    this.setState({ Cart: cart })\n    const reducer = (accumulator, currentValue) => accumulator + currentValue\n    const productsArray = this.state.Cart.map(e => ({\n      prod: { product: e.id, quantity: e.quantity }\n    }))\n    const totalValue = productsArray\n      .map(e => e.quantity * e.price)\n      .reduce(reducer)\n    this.setState({ totalValueCart: totalValue })\n    this.nextStep()\n  }\n  // CONFIRMACIÓN DE LA ORDEN\n  nextStep = () =>{\n    setTimeOut(this.toggleMenu(), 3000)\n  }\n  submitOrder = async () => {\n    // const reducer = (accumulator, currentValue) => accumulator + currentValue\n    // const productsArray = this.state.Cart.map(e => ({\n    //   prod: { product: e.id, quantity: e.quantity }\n    // }))\n    // const totalValue = productsArray\n    //   .map(e => e.quantity * e.price)\n    //   .reduce(reducer)\n    const SendCart = this.state.Cart.map((e, i) => ({\n      product: e._id,\n      quantity: e.quantity,\n      size: e.size\n    }))\n    const newOrd = { products: SendCart, total: this.state.totalValue }\n    const { data } = await MY_SERVICE.createOrder(newOrd)\n    this.setState({ createdOrder: data.newOrder })\n  }\n\n  nextCarousel = step => {\n    const { carousel } = this.state\n    if (step === \"left\") {\n      if (this.state.carousel === 0) {\n        return this.setState({ carousel: 3 })\n      }\n      return this.setState({ carousel: carousel - 1 })\n    } else {\n      if (this.state.carousel === 3) {\n        return this.setState({ carousel: 0 })\n      }\n      return this.setState({ carousel: carousel + 1 })\n    }\n  }\n  // individual product\n  showSettings(event) {\n    event.preventDefault()\n  }\n\n  render() {\n    return (\n      <MyContext.Provider\n        value={{\n          state: this.state,\n          loggedUser: this.state.loggedUser,\n          formSignup: this.state.formSignup,\n          loginForm: this.state.loginForm,\n          handleInput: this.handleInput,\n          handleSignup: this.handleSignup,\n          handleLogin: this.handleLogin,\n          handleLogout: this.handleLogout,\n          addStockForm: this.addStockForm,\n          newProduct: this.state.newProduct,\n          addProduct: this.addProduct,\n          stockInputs: this.state.stockInputs,\n          checked: this.state.checked,\n          handleCheckboxChange: this.handleCheckboxChange,\n          switchOpen: this.switchOpen,\n          switchClose: this.switchClose,\n          toggleMenu: this.toggleMenu,\n          handleRadio: this.handleRadio,\n          deleteProduct: this.deleteProduct,\n          deleteProductFromWishlist: this.deleteProductFromWishlist,\n          addProductToWishlist: this.addProductToWishlist,\n          getProducts: this.getProducts,\n          getProductDetail: this.getProductDetail,\n          addProductToCart: this.addProductToCart,\n          submitOrder: this.submitOrder,\n          open: this.state.open,\n          newCartProduct: this.state.newCartProduct,\n          createdOrder: this.state.createdOrder,\n          productFeed: this.state.productFeed,\n          productDetail: this.state.productDetail,\n          Cart: this.state.Cart,\n          wishListProds: this.state.wishListProds,\n          handleProductQty: this.handleProductQty,\n          handleSize: this.handleSize,\n          totalValueCart: this.totalValueCart,\n          handleFile: this.handleFile,\n          handleUpload: this.handleUpload,\n          handleProductQtyOrder: this.handleProductQtyOrder,\n          quantity: this.state.quantity,\n          loading: this.state.loading,\n          manProducts: this.state.manProducts,\n          womanProducts: this.state.womanProducts,\n          getManProducts: this.getManProducts,\n          getWomanProducts: this.getWomanProducts\n          // user: this.state.user,\n        }}\n      >\n        {this.props.children}\n      </MyContext.Provider>\n    )\n  }\n}\n\nexport default MyProvider\n"]},"metadata":{},"sourceType":"module"}