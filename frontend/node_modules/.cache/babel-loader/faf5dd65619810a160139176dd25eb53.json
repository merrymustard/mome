{"ast":null,"code":"import _toConsumableArray from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component,createContext}from\"react\";import MY_SERVICE from\"./services/index\";import Swal from\"sweetalert2\";export var MyContext=createContext();var MyProvider=/*#__PURE__*/function(_Component){_inherits(MyProvider,_Component);function MyProvider(){var _getPrototypeOf2;var _this;_classCallCheck(this,MyProvider);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MyProvider)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={loggedUser:false,formSignup:{name:\"\",lastname:\"\",country:\"\",gender:\"\",password:\"\",email:\"\"},loading:false,newCartProduct:{quantity:0,size:\"\"},createdOrder:{},loginForm:{email:\"\",password:\"\"},stockInputs:[0],user:{},newProduct:{name:\"\",brand:\"\",caption:\"\",price:0,color:[],size:[],quantity:[],details:\"\",images:[],category:\"\",subcategory:\"\"},file:{},productFeed:[],checked:false,productDetail:{images:[]},open:false,Cart:[],carousel:0,wishListProds:[],totalValueCart:0,quantity:0,manProducts:[],womanProducts:[],prodId:\"\"};_this.handleRadio=function(e){var genderValue=e.target.innerText;if(genderValue===\"Mujer\"){_this.setState({formSignup:_objectSpread({},_this.state.formSignup,{gender:\"Mujer\"})});}else{_this.setState({formSignup:_objectSpread({},_this.state.formSignup,{gender:\"Hombre\"})});}};_this.handleInput=function(e,obj){var a=_this.state[obj];var key=e.target.name;a[key]=e.target.value;_this.setState({obj:a});};_this.handleSize=function _callee(e){return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(e.target.value,\"hey\");_context.next=3;return _regeneratorRuntime.awrap(_this.setState({newCartProduct:_objectSpread({},_this.state.newCartProduct,{size:e.target.value})}));case 3:case\"end\":return _context.stop();}}});};_this.handleSignup=function _callee2(e){var _ref,data;return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();_context2.next=3;return _regeneratorRuntime.awrap(MY_SERVICE.signup(_this.state.formSignup));case 3:_ref=_context2.sent;data=_ref.data;Swal.fire(\"Welcome \".concat(data.user.name),\"User created\",\"success\");case 6:case\"end\":return _context2.stop();}}});};_this.handleStockInput=function(e){var a=e.target.name;var list=_this.state.newProduct.a;list.push(e.target.value);var addStock={};addStock[a]=list;_this.setState({newProduct:addStock});};_this.handleProductQty=function(a){var x=_this.state.newCartProduct.quantity;if(a){x++;_this.setState({newCartProduct:_objectSpread({},_this.state.newCartProduct,{quantity:x})});}if(!a){x--;_this.setState({newCartProduct:_objectSpread({},_this.state.newCartProduct,{quantity:x})});}};_this.handleProductQtyOrder=function(e,a){var x=_this.state.Cart[e].quantity;var carrito=_this.state.Cart;if(a){x++;carrito[e].quantity=x;_this.setState({Cart:carrito});}if(!a){x--;carrito[e].quantity=x;_this.setState({Cart:carrito});}};_this.addProduct=function _callee3(e){var newProduct,formData,key,_i,_Object$keys,llave,_ref2,data;return _regeneratorRuntime.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:e.preventDefault();newProduct=_this.state.newProduct;formData=new FormData();for(key in newProduct){formData.append(key,newProduct[key]);}for(_i=0,_Object$keys=Object.keys(newProduct.images);_i<_Object$keys.length;_i++){llave=_Object$keys[_i];formData.append(\"images\",newProduct.images[llave]);}_context3.next=7;return _regeneratorRuntime.awrap(MY_SERVICE.addproduct(formData));case 7:_ref2=_context3.sent;data=_ref2.data;console.log(data);// Swal.fire(`Success`, `New Product Created ${data.product.name}`, \"success\")\ncase 10:case\"end\":return _context3.stop();}}});};_this.handleUpload=function _callee4(e){var files;return _regeneratorRuntime.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:files=e.target.files;_this.setState(function(prevState){return _objectSpread({},prevState,{newProduct:_objectSpread({},prevState.newProduct,{images:files})});});// await this.setState({ file: e.target.files[0] })\n// console.log(this.state.file)\n// const formData = new FormData()\n// formData.append(\"photo\", this.state.file)\n// const data = await MY_SERVICE.upload(formData)\n// console.log(\"image uploaded\", data)\ncase 2:case\"end\":return _context4.stop();}}});};_this.addStockForm=function(e){e.preventDefault();_this.setState(function(prevState){return _objectSpread({},prevState,{stockInputs:[].concat(_toConsumableArray(prevState.stockInputs),[prevState.stockInputs.length+1])});});};_this.handleLogin=function(e,cb){e.preventDefault();MY_SERVICE.login(_this.state.loginForm).then(function(_ref3){var data=_ref3.data;_this.setState({loggedUser:true,user:data.user});cb();}).catch(function(err){Swal.fire(\"Tu email o contrase\\xF1a son incorrectos\");});};_this.handleLogout=function _callee5(cb){return _regeneratorRuntime.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return _regeneratorRuntime.awrap(MY_SERVICE.logout());case 2:window.localStorage.clear();_this.setState({loggedUser:false,user:{}});_this.props.history.push(\"/\");// ESTO NO FUNCIONA!!!!\ncase 5:case\"end\":return _context5.stop();}}});};_this.handleCheckboxChange=function(event){_this.setState({checked:event.target.checked});};_this.toggleMenu=function(e){if(_this.state.open){_this.setState({open:false});}else{_this.setState({open:true});}};_this.deleteProduct=function _callee6(e){var usr;return _regeneratorRuntime.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return _regeneratorRuntime.awrap(MY_SERVICE.deleteProduct(e.target.id));case 2:usr=_context6.sent;_this.setState({wishListProds:usr.wishList});case 4:case\"end\":return _context6.stop();}}});};_this.addProductToWishlist=function _callee7(e){var usr;return _regeneratorRuntime.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return _regeneratorRuntime.awrap(MY_SERVICE.addProductToWishlist(e.target.id));case 2:usr=_context7.sent;_this.setState({wishListProds:usr.wishList});case 4:case\"end\":return _context7.stop();}}});};_this.deleteProductFromWishlist=function _callee8(e){var _ref4,newlist;return _regeneratorRuntime.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _regeneratorRuntime.awrap(MY_SERVICE.deleteProductFromWishlist(e.target.id));case 2:_ref4=_context8.sent;newlist=_ref4.newlist;_this.setState({wishListProds:newlist.usr.wishList});case 5:case\"end\":return _context8.stop();}}});};_this.getProducts=function _callee9(){var _ref5,data;return _regeneratorRuntime.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_this.setState({loading:true});_context9.next=3;return _regeneratorRuntime.awrap(MY_SERVICE.getProducts());case 3:_ref5=_context9.sent;data=_ref5.data;_this.setState({productFeed:data.products});_this.setState({loading:false});case 7:case\"end\":return _context9.stop();}}});};_this.getManProducts=function _callee10(){var _ref6,data;return _regeneratorRuntime.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_this.setState({loading:true});_context10.next=3;return _regeneratorRuntime.awrap(MY_SERVICE.getManProducts());case 3:_ref6=_context10.sent;data=_ref6.data;console.log(data);_this.setState({manProducts:data.products});case 7:case\"end\":return _context10.stop();}}});};_this.getWomanProducts=function _callee11(){var _ref7,data;return _regeneratorRuntime.async(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_this.setState({loading:true});_context11.next=3;return _regeneratorRuntime.awrap(MY_SERVICE.getWomanProducts());case 3:_ref7=_context11.sent;data=_ref7.data;console.log(data);_this.setState({womanProducts:data.products});case 7:case\"end\":return _context11.stop();}}});};_this.getProductDetail=function _callee12(e,cb){var _ref8,data;return _regeneratorRuntime.async(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return _regeneratorRuntime.awrap(MY_SERVICE.productDetail(e));case 2:_ref8=_context12.sent;data=_ref8.data;console.log(data.product);_this.setState({prodId:data.product._id});_context12.next=8;return _regeneratorRuntime.awrap(_this.setState({productDetail:data.product}));case 8:console.log(_this.state.productDetail);cb();case 10:case\"end\":return _context12.stop();}}});};_this.addProductToCart=function _callee13(){var cart,_ref9,data,reducer,productsArray,totalValue;return _regeneratorRuntime.async(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:cart=_this.state.Cart;_context13.next=3;return _regeneratorRuntime.awrap(MY_SERVICE.productDetail(_this.state.prodId));case 3:_ref9=_context13.sent;data=_ref9.data;data.product.quantity=_this.state.newCartProduct.quantity;data.product.size=_this.state.newCartProduct.size;cart.push(data.product);_this.setState({Cart:cart});reducer=function reducer(accumulator,currentValue){return accumulator+currentValue;};productsArray=_this.state.Cart.map(function(e){return{prod:{product:e.id,quantity:e.quantity}};});totalValue=productsArray.map(function(e){return e.quantity*e.price;}).reduce(reducer);_this.setState({totalValueCart:totalValue});// this.nextStep()\ncase 13:case\"end\":return _context13.stop();}}});};_this.submitOrder=function _callee14(){var SendCart,newOrd,_ref10,data;return _regeneratorRuntime.async(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:// const reducer = (accumulator, currentValue) => accumulator + currentValue\n// const productsArray = this.state.Cart.map(e => ({\n//   prod: { product: e.id, quantity: e.quantity }\n// }))\n// const totalValue = productsArray\n//   .map(e => e.quantity * e.price)\n//   .reduce(reducer)\nSendCart=_this.state.Cart.map(function(e,i){return{product:e._id,quantity:e.quantity,size:e.size};});newOrd={products:SendCart,total:_this.state.totalValue};_context14.next=4;return _regeneratorRuntime.awrap(MY_SERVICE.createOrder(newOrd));case 4:_ref10=_context14.sent;data=_ref10.data;_this.setState({createdOrder:data.newOrder});case 7:case\"end\":return _context14.stop();}}});};_this.nextCarousel=function(step){var carousel=_this.state.carousel;if(step===\"left\"){if(_this.state.carousel===0){return _this.setState({carousel:3});}return _this.setState({carousel:carousel-1});}else{if(_this.state.carousel===3){return _this.setState({carousel:0});}return _this.setState({carousel:carousel+1});}};return _this;}_createClass(MyProvider,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(document.cookie){console.log(\"true\");MY_SERVICE.getUser().then(function(_ref11){var data=_ref11.data;console.log(data);_this2.setState({loggedUser:true,user:data.user});// Swal.fire(`Welcome back ${data.user.name} `, \"\", \"success\")\n}).catch(function(err){return console.log(err);});}}// componentDidUpdate(prevState, prevProps) {\n//   if (prevState.Cart.length != this.state.Cart.length){\n//     const reducer = (accumulator, currentValue) => accumulator + currentValue;\n//     const productsArray = this.state.Cart.map(e => ({\n//       prod: { product: e.id, quantity: e.quantity }\n//     }));\n//     const totalValue = productsArray\n//       .map(e => e.quantity * e.price)\n//       .reduce(reducer);\n//     this.setState({totalValueCart:totalValue})\n//   }\n// }\n},{key:\"showSettings\",// individual product\nvalue:function showSettings(event){event.preventDefault();}},{key:\"render\",value:function render(){return React.createElement(MyContext.Provider,{value:{state:this.state,loggedUser:this.state.loggedUser,formSignup:this.state.formSignup,loginForm:this.state.loginForm,handleInput:this.handleInput,handleSignup:this.handleSignup,handleLogin:this.handleLogin,handleLogout:this.handleLogout,addStockForm:this.addStockForm,newProduct:this.state.newProduct,addProduct:this.addProduct,stockInputs:this.state.stockInputs,checked:this.state.checked,handleCheckboxChange:this.handleCheckboxChange,switchOpen:this.switchOpen,switchClose:this.switchClose,toggleMenu:this.toggleMenu,handleRadio:this.handleRadio,deleteProduct:this.deleteProduct,deleteProductFromWishlist:this.deleteProductFromWishlist,addProductToWishlist:this.addProductToWishlist,getProducts:this.getProducts,getProductDetail:this.getProductDetail,addProductToCart:this.addProductToCart,submitOrder:this.submitOrder,open:this.state.open,newCartProduct:this.state.newCartProduct,createdOrder:this.state.createdOrder,productFeed:this.state.productFeed,productDetail:this.state.productDetail,Cart:this.state.Cart,wishListProds:this.state.wishListProds,handleProductQty:this.handleProductQty,handleSize:this.handleSize,totalValueCart:this.totalValueCart,handleFile:this.handleFile,handleUpload:this.handleUpload,handleProductQtyOrder:this.handleProductQtyOrder,quantity:this.state.quantity,loading:this.state.loading,manProducts:this.state.manProducts,womanProducts:this.state.womanProducts,getManProducts:this.getManProducts,getWomanProducts:this.getWomanProducts// user: this.state.user,\n}},this.props.children);}}]);return MyProvider;}(Component);export default MyProvider;","map":{"version":3,"sources":["/Users/mariasantosmoises/Documents/Ironhack/mome/frontend/src/context.js"],"names":["React","Component","createContext","MY_SERVICE","Swal","MyContext","MyProvider","state","loggedUser","formSignup","name","lastname","country","gender","password","email","loading","newCartProduct","quantity","size","createdOrder","loginForm","stockInputs","user","newProduct","brand","caption","price","color","details","images","category","subcategory","file","productFeed","checked","productDetail","open","Cart","carousel","wishListProds","totalValueCart","manProducts","womanProducts","prodId","handleRadio","e","genderValue","target","innerText","setState","handleInput","obj","a","key","value","handleSize","console","log","handleSignup","preventDefault","signup","data","fire","handleStockInput","list","push","addStock","handleProductQty","x","handleProductQtyOrder","carrito","addProduct","formData","FormData","append","Object","keys","llave","addproduct","handleUpload","files","prevState","addStockForm","length","handleLogin","cb","login","then","catch","err","handleLogout","logout","window","localStorage","clear","props","history","handleCheckboxChange","event","toggleMenu","deleteProduct","id","usr","wishList","addProductToWishlist","deleteProductFromWishlist","newlist","getProducts","products","getManProducts","getWomanProducts","getProductDetail","product","_id","addProductToCart","cart","reducer","accumulator","currentValue","productsArray","map","prod","totalValue","reduce","submitOrder","SendCart","i","newOrd","total","createOrder","newOrder","nextCarousel","step","document","cookie","getUser","switchOpen","switchClose","handleFile","children"],"mappings":"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","sourcesContent":["import React, { Component, createContext } from \"react\"\nimport MY_SERVICE from \"./services/index\"\nimport Swal from \"sweetalert2\"\n\nexport const MyContext = createContext()\n\nclass MyProvider extends Component {\n  state = {\n    loggedUser: false,\n    formSignup: {\n      name: \"\",\n      lastname: \"\",\n      country: \"\",\n      gender: \"\",\n      password: \"\",\n      email: \"\"\n    },\n    loading: false,\n    newCartProduct: {\n      quantity: 0,\n      size: \"\"\n    },\n    createdOrder: {},\n    loginForm: {\n      email: \"\",\n      password: \"\"\n    },\n    stockInputs: [0],\n    user: {},\n    newProduct: {\n      name: \"\",\n      brand: \"\",\n      caption: \"\",\n      price: 0,\n      color: [],\n      size: [],\n      quantity: [],\n      details: \"\",\n      images: [],\n      category: \"\",\n      subcategory: \"\"\n    },\n    file: {},\n    productFeed: [],\n    checked: false,\n    productDetail: {\n      images: []\n    },\n    open: false,\n    Cart: [],\n    carousel: 0,\n    wishListProds: [],\n    totalValueCart: 0,\n    quantity: 0,\n    manProducts: [],\n    womanProducts: [],\n    prodId: \"\"\n  }\n\n  componentDidMount() {\n    if (document.cookie) {\n      console.log(\"true\")\n      MY_SERVICE.getUser()\n        .then(({ data }) => {\n          console.log(data)\n          this.setState({\n            loggedUser: true,\n            user: data.user\n          })\n          // Swal.fire(`Welcome back ${data.user.name} `, \"\", \"success\")\n        })\n        .catch(err => console.log(err))\n    }\n  }\n\n  // componentDidUpdate(prevState, prevProps) {\n  //   if (prevState.Cart.length != this.state.Cart.length){\n\n  //     const reducer = (accumulator, currentValue) => accumulator + currentValue;\n  //     const productsArray = this.state.Cart.map(e => ({\n  //       prod: { product: e.id, quantity: e.quantity }\n  //     }));\n  //     const totalValue = productsArray\n  //       .map(e => e.quantity * e.price)\n  //       .reduce(reducer);\n  //     this.setState({totalValueCart:totalValue})\n  //   }\n  // }\n  handleRadio = e => {\n    const genderValue = e.target.innerText\n    if (genderValue === \"Mujer\") {\n      this.setState({\n        formSignup: { ...this.state.formSignup, gender: \"Mujer\" }\n      })\n    } else {\n      this.setState({\n        formSignup: { ...this.state.formSignup, gender: \"Hombre\" }\n      })\n    }\n  }\n\n  handleInput = (e, obj) => {\n    const a = this.state[obj]\n    const key = e.target.name\n    a[key] = e.target.value\n    this.setState({\n      obj: a\n    })\n  }\n\n  handleSize = async e => {\n    console.log(e.target.value, \"hey\")\n    await this.setState({\n      newCartProduct: { ...this.state.newCartProduct, size: e.target.value }\n    })\n  }\n\n  handleSignup = async e => {\n    e.preventDefault()\n    const { data } = await MY_SERVICE.signup(this.state.formSignup)\n    Swal.fire(`Welcome ${data.user.name}`, \"User created\", \"success\")\n  }\n\n  handleStockInput = e => {\n    const a = e.target.name\n    const list = this.state.newProduct.a\n    list.push(e.target.value)\n    const addStock = {}\n    addStock[a] = list\n    this.setState({\n      newProduct: addStock\n    })\n  }\n  handleProductQty = a => {\n    let x = this.state.newCartProduct.quantity\n    if (a) {\n      x++\n      this.setState({\n        newCartProduct: { ...this.state.newCartProduct, quantity: x }\n      })\n    }\n    if (!a) {\n      x--\n      this.setState({\n        newCartProduct: { ...this.state.newCartProduct, quantity: x }\n      })\n    }\n  }\n  handleProductQtyOrder = (e, a) => {\n    let x = this.state.Cart[e].quantity\n    const carrito = this.state.Cart\n    if (a) {\n      x++\n      carrito[e].quantity = x\n      this.setState({ Cart: carrito })\n    }\n    if (!a) {\n      x--\n      carrito[e].quantity = x\n      this.setState({ Cart: carrito })\n    }\n  }\n\n  addProduct = async e => {\n    e.preventDefault()\n    const { newProduct } = this.state\n    const formData = new FormData()\n    for (const key in newProduct) {\n      formData.append(key, newProduct[key])\n    }\n    for (const llave of Object.keys(newProduct.images)) {\n      formData.append(\"images\", newProduct.images[llave])\n    }\n    const { data } = await MY_SERVICE.addproduct(formData)\n    console.log(data)\n    // Swal.fire(`Success`, `New Product Created ${data.product.name}`, \"success\")\n  }\n\n  handleUpload = async e => {\n    const { files } = e.target\n    this.setState(prevState => ({\n      ...prevState,\n      newProduct: {\n        ...prevState.newProduct,\n        images: files\n      }\n    }))\n    // await this.setState({ file: e.target.files[0] })\n    // console.log(this.state.file)\n    // const formData = new FormData()\n    // formData.append(\"photo\", this.state.file)\n    // const data = await MY_SERVICE.upload(formData)\n    // console.log(\"image uploaded\", data)\n  }\n\n  addStockForm = e => {\n    e.preventDefault()\n    this.setState(prevState => {\n      return {\n        ...prevState,\n        stockInputs: [\n          ...prevState.stockInputs,\n          prevState.stockInputs.length + 1\n        ]\n      }\n    })\n  }\n\n  handleLogin = (e, cb) => {\n    e.preventDefault()\n    MY_SERVICE.login(this.state.loginForm)\n      .then(({ data }) => {\n        this.setState({\n          loggedUser: true,\n          user: data.user\n        })\n        cb()\n      })\n      .catch(err => {\n        Swal.fire(`Tu email o contraseña son incorrectos`)\n      })\n  }\n\n  handleLogout = async cb => {\n    await MY_SERVICE.logout()\n\n    window.localStorage.clear()\n    this.setState({\n      loggedUser: false,\n      user: {}\n    })\n    this.props.history.push(\"/\") // ESTO NO FUNCIONA!!!!\n  }\n\n  handleCheckboxChange = event => {\n    this.setState({ checked: event.target.checked })\n  }\n\n  // side menu\n  toggleMenu = e => {\n    if (this.state.open) {\n      this.setState({ open: false })\n    } else {\n      this.setState({ open: true })\n    }\n  }\n\n  deleteProduct = async e => {\n    // HAY QUE PONER EN EL ID DEL BOTÓN EL ID DEL PRODUCTO A ELIMINAR\n    //HAY QUE HACER UN COMPONENT DID CHANGE PARA REFRESCAR LA PÁGINA Y ACTUALIZARLA\n    const usr = await MY_SERVICE.deleteProduct(e.target.id)\n    this.setState({ wishListProds: usr.wishList })\n  }\n\n  addProductToWishlist = async e => {\n    const usr = await MY_SERVICE.addProductToWishlist(e.target.id)\n    this.setState({ wishListProds: usr.wishList })\n  }\n  deleteProductFromWishlist = async e => {\n    const { newlist } = await MY_SERVICE.deleteProductFromWishlist(e.target.id)\n    this.setState({ wishListProds: newlist.usr.wishList })\n  }\n  getProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getProducts()\n    this.setState({ productFeed: data.products })\n    this.setState({ loading: false })\n  }\n  getManProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getManProducts()\n    console.log(data)\n    this.setState({ manProducts: data.products })\n  }\n  getWomanProducts = async () => {\n    this.setState({ loading: true })\n    const { data } = await MY_SERVICE.getWomanProducts()\n    console.log(data)\n    this.setState({ womanProducts: data.products })\n  }\n  getProductDetail = async (e, cb) => {\n    // LA CARD DEL PRODUCTO TIENE QUE TENER EL ONCLICK CON ESTA FUNCIÓN Y TIENE QUE TENER EL ID CON EL ID DEL PRODUCTO EN CUESTIÓN\n    const { data } = await MY_SERVICE.productDetail(e)\n    console.log(data.product)\n    this.setState({ prodId: data.product._id })\n    await this.setState({ productDetail: data.product })\n    console.log(this.state.productDetail)\n    cb()\n  }\n  // ESTA BELLEZZA VA EN EL SUBMIT BUTTON DE ADD TO CART, EN LOS INPUTS DE LOS PRODUCTOS TIENE QUE IR EL HANDLEINPUT RECIBIENDO COMO SEGUNDO PARAMETRO \"newCartProduct\" PARA QUE LO AÑADA A ESE FORM\n  addProductToCart = async () => {\n    const cart = this.state.Cart\n    const { data } = await MY_SERVICE.productDetail(this.state.prodId)\n    data.product.quantity = this.state.newCartProduct.quantity\n    data.product.size = this.state.newCartProduct.size\n    cart.push(data.product)\n    this.setState({ Cart: cart })\n    const reducer = (accumulator, currentValue) => accumulator + currentValue\n    const productsArray = this.state.Cart.map(e => ({\n      prod: { product: e.id, quantity: e.quantity }\n    }))\n    const totalValue = productsArray\n      .map(e => e.quantity * e.price)\n      .reduce(reducer)\n    this.setState({ totalValueCart: totalValue })\n    // this.nextStep()\n  }\n  // CONFIRMACIÓN DE LA ORDEN\n  // nextStep = () =>{\n  //   setTimeOut(this.toggleMenu(), 3000)\n  // }\n  submitOrder = async () => {\n    // const reducer = (accumulator, currentValue) => accumulator + currentValue\n    // const productsArray = this.state.Cart.map(e => ({\n    //   prod: { product: e.id, quantity: e.quantity }\n    // }))\n    // const totalValue = productsArray\n    //   .map(e => e.quantity * e.price)\n    //   .reduce(reducer)\n    const SendCart = this.state.Cart.map((e, i) => ({\n      product: e._id,\n      quantity: e.quantity,\n      size: e.size\n    }))\n    const newOrd = { products: SendCart, total: this.state.totalValue }\n    const { data } = await MY_SERVICE.createOrder(newOrd)\n    this.setState({ createdOrder: data.newOrder })\n  }\n\n  nextCarousel = step => {\n    const { carousel } = this.state\n    if (step === \"left\") {\n      if (this.state.carousel === 0) {\n        return this.setState({ carousel: 3 })\n      }\n      return this.setState({ carousel: carousel - 1 })\n    } else {\n      if (this.state.carousel === 3) {\n        return this.setState({ carousel: 0 })\n      }\n      return this.setState({ carousel: carousel + 1 })\n    }\n  }\n  // individual product\n  showSettings(event) {\n    event.preventDefault()\n  }\n\n  render() {\n    return (\n      <MyContext.Provider\n        value={{\n          state: this.state,\n          loggedUser: this.state.loggedUser,\n          formSignup: this.state.formSignup,\n          loginForm: this.state.loginForm,\n          handleInput: this.handleInput,\n          handleSignup: this.handleSignup,\n          handleLogin: this.handleLogin,\n          handleLogout: this.handleLogout,\n          addStockForm: this.addStockForm,\n          newProduct: this.state.newProduct,\n          addProduct: this.addProduct,\n          stockInputs: this.state.stockInputs,\n          checked: this.state.checked,\n          handleCheckboxChange: this.handleCheckboxChange,\n          switchOpen: this.switchOpen,\n          switchClose: this.switchClose,\n          toggleMenu: this.toggleMenu,\n          handleRadio: this.handleRadio,\n          deleteProduct: this.deleteProduct,\n          deleteProductFromWishlist: this.deleteProductFromWishlist,\n          addProductToWishlist: this.addProductToWishlist,\n          getProducts: this.getProducts,\n          getProductDetail: this.getProductDetail,\n          addProductToCart: this.addProductToCart,\n          submitOrder: this.submitOrder,\n          open: this.state.open,\n          newCartProduct: this.state.newCartProduct,\n          createdOrder: this.state.createdOrder,\n          productFeed: this.state.productFeed,\n          productDetail: this.state.productDetail,\n          Cart: this.state.Cart,\n          wishListProds: this.state.wishListProds,\n          handleProductQty: this.handleProductQty,\n          handleSize: this.handleSize,\n          totalValueCart: this.totalValueCart,\n          handleFile: this.handleFile,\n          handleUpload: this.handleUpload,\n          handleProductQtyOrder: this.handleProductQtyOrder,\n          quantity: this.state.quantity,\n          loading: this.state.loading,\n          manProducts: this.state.manProducts,\n          womanProducts: this.state.womanProducts,\n          getManProducts: this.getManProducts,\n          getWomanProducts: this.getWomanProducts\n          // user: this.state.user,\n        }}\n      >\n        {this.props.children}\n      </MyContext.Provider>\n    )\n  }\n}\n\nexport default MyProvider\n"]},"metadata":{},"sourceType":"module"}